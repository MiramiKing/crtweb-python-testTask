# Тестовое задание на _Python_-программиста

В этом репозитории реализовано API приложения для планирования пикников, состоящие из сущностей:

- Город
- Пикник
- Пользователь
- Регистрация пользователя на пикник

## Запуск проекта

Клонировать репозиторий и перейти в него в командной строке:

```git
git clone https://github.com/MiramiKing/crtweb-python-testTask.git
```

```git
cd crtweb-python-testTask
```

В папке src содержится файл переменных окружения .env как для подключения к БД, так и для контейнера postgres:

```
DB_USER=
DB_PASSWORD=
DB_HOST=
DB_NAME=
POSTGRES_DB=
POSTGRES_USER=
POSTGRES_PASSWORD=
```

В test\test.py находятся тесты приложения. Запускаются через pytest во временной БД.

**Прежде чем запускать тесты убедитесь, что приложение может подключиться к рабочей БД. Во время теста приложение
запустится как обычно и лишь перед тестом подменит сессию подключения к БД!!!**

Для запуска можно воспользоваться docker-compose:

```
docker-compose up 
```

Логи приложения сохраняются в папке logs

Также в файле docker-compose можно указать в volumes куда монтировать папку с логами!

## Документация API

Получение списка всех городов. Метод - GET

```
/cities/
```

Добавление города по его названию. Метод - POST

```
/cities/
```

Список всех пользователей. Метод - GET

```
/users/
```

Регистрация пользователей. Метод - POST

```
/users/
```

Список всех пикников с зарегистрованными пользователями. Метод - GET

```
/picnics/
```

Создание пикника. Метод - POST

```
/picnics/
```

Регистрация пользователя на пикник. Метод - POST

```
/picnics/register/
```

Документация проекта доступна по адресам:

```
/redoc/
/docs/
```